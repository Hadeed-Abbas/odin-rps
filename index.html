<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const values = ["rock", "paper", "scissor"];
      let previousChoice = "";
      function getComputerChoice() {
        let num = Math.floor(Math.random() * 3);
        return values[num];
      }

      function getHumanChoice() {
        while (true) {
          let input = prompt("Choose Rock, Paper, Scissor or quit", previousChoice);
          let userInput = input.toLowerCase();
          previousChoice = userInput;
          if (
            userInput === "rock" ||
            userInput === "paper" ||
            userInput === "scissor" ||
            userInput === "quit"
          ) {
            return userInput;
          } else console.log("invalid choice Choose again.");
        }
      }

      function playGame() {
        let humanScore = 0;
        let computerScore = 0;

        function playRound(humanChoice, computerChoice) {
          if (humanChoice === "quit") {
            return true;
          }
          if (humanChoice === computerChoice) {
            console.log(
              `Computer Selected: ${computerChoice}\n Human Selected: ${humanChoice}`
            );
            console.log("It's a draw");
          } else if (
            (humanChoice === "rock" && computerChoice === "scissor") ||
            (humanChoice === "paper" && computerChoice === "rock") ||
            (humanChoice === "scissor" && computerChoice === "paper")
          ) {
            humanScore++;
            console.log(
              `Computer Selected: ${computerChoice}\n Human Selected: ${humanChoice}`
            );
            
          } else {
            computerScore++;
            console.log(
              `Computer Selected: ${computerChoice}\n Human Selected: ${humanChoice}`
            );
           
          }
          return false;
        }

        while (computerScore < 5 && humanScore < 5) {
          const humanSelection = getHumanChoice();
          const computerSelection = getComputerChoice();
          let quit = playRound(humanSelection, computerSelection);
          if(quit===true){
            console.log("You quit the game.")
            break;
          }
          console.log(
              `HumanScore:  ${humanScore}  -  ComputerScore: ${computerScore}`
            );
        }
        if(humanScore===5){
          console.log("Human won.");
        }
        else if(computerScore===5){
          console.log("Computer Won.");
        }
        else{
          console.log("Final Score: ");
          console.log(`Human Score: ${humanScore} `);
          console.log(`Computer Score: ${computerScore}`);
        }
      }

      playGame();
    </script>
  </body>
</html>
